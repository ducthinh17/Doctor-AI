"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setStorage = exports.getStorage = void 0;
const platform_js_1 = require("../../utils/platform.js");
const asyncLocalStorage_js_1 = require("../../wallets/storage/asyncLocalStorage.js");
let storage;
/**
 * Gets the storage to be used in react.
 * @example
 * ```ts
 * const storage = getStorage();
 * ```
 * @returns The storage to use
 */
function getStorage() {
    if (storage) {
        return storage;
    }
    if ((0, platform_js_1.isReactNative)()) {
        const { nativeLocalStorage, } = require("../../wallets/storage/nativeStorage.js");
        return nativeLocalStorage;
    }
    // default to localStorage
    return asyncLocalStorage_js_1.asyncLocalStorage;
}
exports.getStorage = getStorage;
/**
 * Sets the storage to be used in react.
 * @example
 * ```ts
 * setStorage(storage);
 * ```
 * @param _storage - The storage to use
 */
function setStorage(_storage) {
    storage = _storage;
}
exports.setStorage = setStorage;
//# sourceMappingURL=storage.js.map